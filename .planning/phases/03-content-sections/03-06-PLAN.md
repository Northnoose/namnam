---
phase: 03-content-sections
plan: 06
type: execute
wave: 3
depends_on:
  - 03-02
  - 03-03
  - 03-04
  - 03-05
files_modified:
  - src/app/page.tsx
autonomous: true
requirements: []

must_haves:
  truths:
    - "page.tsx imports and renders Hero, OmOss, Meny, and Levering components"
    - "Section IDs are preserved: id='om-oss', id='meny', id='levering' — Footer has id='kontakt' on its own root"
    - "Hero is rendered outside the section wrappers (full-width, no Container wrapping from page.tsx)"
    - "page.tsx is a Server Component (no 'use client' at top)"
    - "npm run build completes without errors"
  artifacts:
    - path: "src/app/page.tsx"
      provides: "Composed home page with all 5 content sections"
      contains: "OmOss"
  key_links:
    - from: "src/app/page.tsx"
      to: "src/components/Hero.tsx"
      via: "import { Hero }"
      pattern: "<Hero"
    - from: "src/app/page.tsx"
      to: "src/components/Meny.tsx"
      via: "import { Meny }"
      pattern: "<Meny"
    - from: "src/app/page.tsx"
      to: "src/components/OmOss.tsx"
      via: "import { OmOss }"
      pattern: "<OmOss"
    - from: "src/app/page.tsx"
      to: "src/components/Levering.tsx"
      via: "import { Levering }"
      pattern: "<Levering"
---

<objective>
Rewrite `src/app/page.tsx` to import and compose all 5 content section components (Hero, OmOss, Meny, Levering) with correct anchor IDs. The Footer is already in layout.tsx and has its own `id="kontakt"`.

Purpose: The current page.tsx has placeholder `<section>` elements with dummy text. This plan replaces them with the real section components built in plans 03-02 through 03-05. Also runs a production build to confirm zero errors.
Output: A clean, server-component page.tsx that composes the full Nam Nam site content, plus a passing `npm run build`.
</objective>

<execution_context>
@/Users/steffen/.claude/get-shit-done/workflows/execute-plan.md
@/Users/steffen/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@src/app/page.tsx
@src/app/layout.tsx
@.planning/phases/03-content-sections/03-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite page.tsx to compose all section components</name>
  <files>src/app/page.tsx</files>
  <action>
Completely replace `src/app/page.tsx` with the following:

```tsx
import { Hero } from "@/components/Hero";
import { OmOss } from "@/components/OmOss";
import { Meny } from "@/components/Meny";
import { Levering } from "@/components/Levering";

export default function Home() {
  return (
    <>
      {/* Hero renders its own section with full-viewport styling — no wrapper needed */}
      <Hero />

      {/* Om oss section — Navbar links to #om-oss */}
      <section id="om-oss">
        <OmOss />
      </section>

      {/* Meny section — Navbar links to #meny, Hero "SE MENYEN" button links here */}
      <section id="meny">
        <Meny />
      </section>

      {/* Levering section — Navbar links to #levering */}
      <section id="levering">
        <Levering />
      </section>

      {/* Kontakt / Footer — rendered in layout.tsx with id="kontakt" on Footer root element */}
    </>
  );
}
```

Important notes:
- No `"use client"` — page.tsx stays a Server Component. Hero and Meny are internally "use client" but that boundary is at the component level, not page level.
- No Container wrapper in page.tsx — each component manages its own Container/padding.
- Remove the old Container import — no longer needed.
- Section IDs (`id="om-oss"`, `id="meny"`, `id="levering"`) are placed on `<section>` wrappers in page.tsx — this gives clear structural control as recommended in RESEARCH.md.
- Footer with `id="kontakt"` is in layout.tsx and needs no change to page.tsx.
- The `<>` fragment replaces the old `<Container>` wrapper from Phase 2 placeholder code.
  </action>
  <verify>
    <automated>cd /Users/steffen/Desktop/Projects/website_template && npx tsc --noEmit 2>&1 | head -30</automated>
    <manual>Check page.tsx: imports Hero, OmOss, Meny, Levering; section id="om-oss", id="meny", id="levering" present; no "use client" at top; no Container import</manual>
  </verify>
  <done>page.tsx rewritten, TypeScript compiles with 0 errors, all 4 section components imported and rendered with correct anchor IDs</done>
</task>

<task type="auto">
  <name>Task 2: Verify production build completes successfully</name>
  <files></files>
  <action>
Run `npm run build` to verify the full production build succeeds with no TypeScript errors, no missing imports, and no Next.js build errors across all components added in Phase 3.

This catches issues that `tsc --noEmit` alone might miss, such as:
- Server/client component boundary violations (e.g., importing a "use client" component without the boundary being valid)
- next/image configuration issues
- Missing or incorrect exports

If the build fails, diagnose the error and fix it. Common issues to check:
- If error mentions "motion/react": ensure `npm install motion` ran successfully (plan 03-02 Task 1)
- If error mentions "use client" boundary: the Hero or Meny component may need adjustment
- If error mentions missing export: check that all component exports match their import names in page.tsx (`Hero`, `OmOss`, `Meny`, `Levering`, `Footer` are all named exports)
  </action>
  <verify>
    <automated>cd /Users/steffen/Desktop/Projects/website_template && npm run build 2>&1 | tail -20</automated>
  </verify>
  <done>`npm run build` exits with code 0, showing "✓ Compiled successfully" or equivalent Next.js success output</done>
</task>

</tasks>

<verification>
`npx tsc --noEmit` passes with 0 errors.
`npm run build` completes successfully.
page.tsx has correct section IDs (om-oss, meny, levering).
page.tsx imports Hero, OmOss, Meny, Levering.
</verification>

<success_criteria>
page.tsx composed and building successfully; all sections wired with correct anchor IDs; production build passes.
</success_criteria>

<output>
After completion, create `.planning/phases/03-content-sections/03-06-SUMMARY.md`
</output>
